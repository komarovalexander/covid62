{"version":3,"sources":["App.js","data.js","serviceWorker.js","index.js"],"names":["regions","date","Date","source","id","name","sick","description","maxCount","reduce","acc","item","i","length","region","opacity","App","React","useState","popperElement","setPopperElement","popperContent","setPopperContent","className","path","map","r","selector","fill","onElementSelected","elem","addEventListener","createPopper","placement","modifiers","options","offset","hoverElem","ref","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"oJASA,I,yEAHMA,ECNc,CAAC,CACnBC,KAAM,IAAIC,KAAK,KAAM,EAAG,GACxBC,OAAQ,qEACRH,QAAS,CAAC,CACRI,GAAI,eACJC,KAAM,+FACNC,KAAM,EACNC,YAAa,mQACZ,CACDH,GAAI,SACJC,KAAM,mFACNC,KAAM,GACNC,YAAa,u6BACZ,CACDH,GAAI,SACJC,KAAM,uEACNC,KAAM,GACNC,YAAa,oaACZ,CACDH,GAAI,YACJC,KAAM,+FACNC,KAAM,GACNC,YAAa,0nCACZ,CACDH,GAAI,SACJC,KAAM,uCACNC,KAAM,IACNC,YAAa,IACZ,CACDH,GAAI,YACJC,KAAM,6EACNC,KAAM,GACNC,YAAa,wlDACZ,CACDH,GAAI,YACJC,KAAM,yFACNC,KAAM,GACNC,YAAa,0dACZ,CACDH,GAAI,QACJC,KAAM,mFACNC,KAAM,GACNC,YAAa,yrBACZ,CACDH,GAAI,SACJC,KAAM,iEACNC,KAAM,GACNC,YAAa,6gBACZ,CACDH,GAAI,UACJC,KAAM,mFACNC,KAAM,EACNC,YAAa,wKACZ,CACDH,GAAI,WACJC,KAAM,yFACNC,KAAM,EACNC,YAAa,yPACZ,CACDH,GAAI,UACJC,KAAM,+FACNC,KAAM,EACNC,YAAa,yDACZ,CACDH,GAAI,UACJC,KAAM,mFACNC,KAAM,EACNC,YAAa,uJACZ,CACDH,GAAI,WACJC,KAAM,8HACNC,KAAM,EACNC,YAAa,yKACZ,CACDH,GAAI,QACJC,KAAM,iEACNC,KAAM,GACNC,YAAa,6SACZ,CACDH,GAAI,QACJC,KAAM,6EACNC,KAAM,EACNC,YAAa,0GACZ,CACDH,GAAI,cACJC,KAAM,yFACNC,KAAM,EACNC,YAAa,sHACZ,CACDH,GAAI,SACJC,KAAM,6EACNC,KAAM,GACNC,YAAa,gnBACZ,CACDH,GAAI,YACJC,KAAM,+FACNC,KAAM,EACNC,YAAa,yLACZ,CACDH,GAAI,UACJC,KAAM,6EACNC,KAAM,GACNC,YAAa,0QACZ,CACDH,GAAI,cACJC,KAAM,qGACNC,KAAM,EACNC,YAAa,mDACZ,CACDH,GAAI,SACJC,KAAM,uEACNC,KAAM,GACNC,YAAa,0XACZ,CACDH,GAAI,UACJC,KAAM,yFACNC,KAAM,GACNC,YAAa,ydACZ,CACDH,GAAI,SACJC,KAAM,oGACNC,KAAM,EACNC,YAAa,mDACZ,CACDH,GAAI,SACJC,KAAM,8FACNC,KAAM,GACNC,YAAa,0gCACZ,CACDH,GAAI,UACJC,KAAM,0GACNC,KAAM,GACNC,YAAa,izBD9HI,GAAGP,QAEpBQ,EAAWR,EAAQS,QAAO,SAACC,EAAKC,GAAN,MAA2B,WAAZA,EAAKP,IAAmBO,EAAKL,KAAOI,EAAMC,EAAKL,KAAOI,IAAI,GAC9FE,EAAE,EAAGA,EAAEZ,EAAQa,OAAQD,IAAI,CAClC,IAAME,EAASd,EAAQY,GACvBE,EAAOC,QAAWD,EAAOR,KAAOE,EACb,IAAhBM,EAAOR,MAAcQ,EAAOC,QAAU,MACvCD,EAAOC,QAAU,KAEF,WAAdD,EAAOV,KACRU,EAAOC,QAAU,GAkCNC,MA7Bf,WAAgB,IAAD,EAC6BC,IAAMC,SAAS,MAD5C,mBACNC,EADM,KACSC,EADT,OAE6BH,IAAMC,SAAS,MAF5C,mBAENG,EAFM,KAESC,EAFT,KAmBb,OACE,yBAAKC,UAAU,OACb,kBAAC,YAAD,CAAWC,KAAK,uBACbxB,EAAQyB,KAAI,SAAAC,GAAC,OAAG,kBAAC,WAAD,CAAUC,SAAU,IAAID,EAAEtB,GAAIwB,KAAI,eAAmB,WAATF,EAAEtB,GAAkB,MAAQ,MAAtC,mBAAsDsB,EAAEX,QAAxD,KAAoEc,kBAAmB,SAACC,GAAD,OAnB9H,SAACA,EAAMhB,GACvBgB,EAAKC,iBAAiB,aAAa,WACjCT,EAAiB,6BAAK,6BAAMR,EAAOT,MAAW,gEAAaS,EAAOR,MAAjD,IAA8DQ,EAAOP,cACtFyB,YAAaF,EAAMX,EAAe,CAChCc,UAAW,MACXC,UAAW,CACT,CACE7B,KAAM,SACN8B,QAAS,CACPC,OAAQ,CAAC,GAAI,YAUgIC,CAAUP,EAAMJ,UAEzK,yBAAKH,UAAU,UAAUe,IAAKlB,GAAmBC,KEjC/BkB,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,a","file":"static/js/main.d031d050.chunk.js","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport { SvgLoader, SvgProxy } from 'react-svgmt';\r\nimport { createPopper } from '@popperjs/core';\r\nimport { data } from './data';\r\n\r\nconst regions = data[0].regions;\r\n\r\nvar maxCount = regions.reduce((acc, item) => item.id !== \"ryazan\" && item.sick > acc ? item.sick : acc,0);\r\nfor (var i=0; i<regions.length; i++){\r\n  const region = regions[i];\r\n  region.opacity = (region.sick / maxCount);\r\n  if(region.sick !== 0 && region.opacity < 0.07){\r\n    region.opacity = 0.07;\r\n  }\r\n  if(region.id === \"ryazan\"){\r\n    region.opacity = 1;\r\n  }\r\n}\r\n\r\n\r\nfunction App() {\r\n  const [popperElement, setPopperElement] = React.useState(null);\r\n  const [popperContent, setPopperContent] = React.useState(null);\r\n  const hoverElem = (elem, region) => {\r\n    elem.addEventListener(\"mouseover\", () => {\r\n      setPopperContent(<div><div>{region.name}</div><div>Всего: {region.sick}</div> {region.description}</div>);\r\n      createPopper(elem, popperElement, {\r\n        placement: 'top',\r\n        modifiers: [\r\n          {\r\n            name: 'offset',\r\n            options: {\r\n              offset: [0, -40],\r\n            },\r\n          },\r\n        ],\r\n      });\r\n     });\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <SvgLoader path=\"./Ryazan_Oblast.svg\">\r\n        {regions.map(r=> <SvgProxy selector={\"#\"+r.id} fill={`rgba(${r.id === \"ryazan\" ? '140' : '180'}, 0, 0, ${r.opacity})`} onElementSelected={(elem)=> hoverElem(elem, r)}></SvgProxy>)}\r\n      </SvgLoader>\r\n  <div className=\"tooltip\" ref={setPopperElement}>{popperContent}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","export const data = [{\r\n  date: new Date(2020, 4, 3),\r\n  source: \"https://www.ryazangov.ru/governmentro/covid-19/?ELEMENT_ID=1058139\",\r\n  regions: [{\r\n    id: \"miloslavskoe\",\r\n    name: \"Милославский р-он\",\r\n    sick: 4,\r\n    description: \"В Милославском – 4, в районе – 2 (Бугровка – 1, Чернава – 1)\"\r\n  }, {\r\n    id: \"skopin\",\r\n    name: \"Скопинский р-он\",\r\n    sick: 61,\r\n    description: \"В Скопине – 22, в Скопинском районе – 39 (Павелец – 14, Ильинка – 7, Побединка – 4, Горлово – 3, Клекотки – 2, Отрада – 2, Березняги – 1, Делехово – 1, Нагиши – 1, Новиково – 1, Петрушино – 1, Успенское 1, Шелемишево – 1)\"\r\n  }, {\r\n    id: \"pronsk\",\r\n    name: \"Пронский р-он\",\r\n    sick: 45,\r\n    description: \"г. Новомичуринск – 36, в г. Пронск – 6, в районе – 3 (Б. Погореловка – 1, Маклаково – 1, Роскино – 1)\"\r\n  }, {\r\n    id: \"michaylov\",\r\n    name: \"Михайловский р-он\",\r\n    sick: 64,\r\n    description: \"в г. Михайлов – 38, в районе – 26 (Октябрьский – 7, Стрелецкие выселки – 5, Козловка – 2, Березово – 1, Виленка – 1, Волосовка – 1, Грязное – 1, Иваньково – 1, Ижеславль – 1, Киндяково – 1, Красное – 1, Первомайский – 1, Печерники – 1, Покровское – 1, Фирюлевка – 1).\"\r\n  }, {\r\n    id: \"ryazan\",\r\n    name: \"Рязань\",\r\n    sick: 651,\r\n    description: \"\"\r\n  }, {\r\n    id: \"ryazanreg\",\r\n    name: \"Рязанский р-он\",\r\n    sick: 93,\r\n    description: \"В Рязанском районе – 93 (Заокское – 30, Учхоз Стенькино – 12, Тюшево – 11, Дядьково – 4, Подвязье – 4, Рожок – 4, Абрютино – 3, Мурмино – 3, Высокое – 2, Заборье – 2, Земенки – 2, Насурово – 2, Поляны – 2, Алтухово – 1, Богданово – 1, Вышгород – 1, Дмитриевка – 1, Дубровичи – 1, Варские – 1, Ровное – 1, Секиотово – 1, Ульяновка – 1, Ходынинские дворики2 -1, Шумашь – 1, Ялтуново – 1)\"\r\n  }, {\r\n    id: \"zacharovo\",\r\n    name: \"Захаровский р-он\",\r\n    sick: 10,\r\n    description: \"В Захаровском районе – 9 (Безлычное – 3, Смена – 3, Плахино – 1, Поливаново – 1, Пупкино – 1), в Захарове – 1.\"\r\n  }, {\r\n    id: \"sarai\",\r\n    name: \"Сараевский р-он\",\r\n    sick: 21,\r\n    description: \"В Сараевском районе – 16 (Красный Озерок – 7, Мордово – 2, Сысои – 2, Алексеевка – 1, Бычки – 1, Красная Вершина – 1, Кривское – 1, Новый Хутор – 1), в Сараях – 5.\"\r\n  }, {\r\n    id: \"shatsk\",\r\n    name: \"Шатцкий р-он\",\r\n    sick: 19,\r\n    description: \"В Шацком районе – 10 (Казачья Слобода – 6, Высокое – 1, Лесное Конобеево – 1, Новочернеево – 1, Печины – 1), в Шацке – 9.\"\r\n  }, {\r\n    id: \"huhkovo\",\r\n    name: \"Чучковский р-он\",\r\n    sick: 7,\r\n    description: \"В Чучкове – 4, в районе – 3 (Мелехово).\"\r\n  }, {\r\n    id: \"putytino\",\r\n    name: \"Путятинский р-он\",\r\n    sick: 2,\r\n    description: \"В Путятинском районе – 2 (Глебово – 1, Строевское – 1).\"\r\n  }, {\r\n    id: \"sapojok\",\r\n    name: \"Сапожковский р-он\",\r\n    sick: 1,\r\n    description: \"В Сапожке - 1\"\r\n  }, {\r\n    id: \"uxolovo\",\r\n    name: \"Ухоловский р-он\",\r\n    sick: 1,\r\n    description: \"в Ухоловком районе – 1 (Поляки).\"\r\n  }, {\r\n    id: \"alex-new\",\r\n    name: \"Александро-Невский р-он\",\r\n    sick: 1,\r\n    description: \"В Александро-Невском – 1 (Боровок).\"\r\n  }, {\r\n    id: \"ryjsc\",\r\n    name: \"Ряжский р-он\",\r\n    sick: 14,\r\n    description: \"В Ряжске – 9, в районе – 5 (Петрово – 2, Шереметьево – 2, Дегтяное – 1).\"\r\n  }, {\r\n    id: \"kadom\",\r\n    name: \"Кадомский р-он\",\r\n    sick: 0,\r\n    description: \"В Кадомском районе - 0\"\r\n  }, {\r\n    id: \"pitelenskiy\",\r\n    name: \"Пителинский р-он\",\r\n    sick: 0,\r\n    description: \"В Пителинском районе - 0\"\r\n  }, {\r\n    id: \"sasovo\",\r\n    name: \"Сасовский р-он\",\r\n    sick: 25,\r\n    description: \"В Сасовском районе – 10 (Сотницыно – 2, Раково – 2, Фроловское – 2, Алешино – 1, Гавриловское – 1, Кузьминки – 1, Молодежный – 1), в Сасове – 15.\"\r\n  }, {\r\n    id: \"korablino\",\r\n    name: \"Кораблинский р-он\",\r\n    sick: 2,\r\n    description: \"В Кораблине – 1, в районе – 1 (Кипчаково)\"\r\n  }, {\r\n    id: \"shilovo\",\r\n    name: \"Шиловский р-он\",\r\n    sick: 13,\r\n    description: \"В Шилове – 7, в районе – 6 (Лесной – 4, Аделино – 1, Заполье – 1). \"\r\n  }, {\r\n    id: \"starozilovo\",\r\n    name: \"Старожиловкий р-он\",\r\n    sick: 0,\r\n    description: \"В районе - 0\"\r\n  }, {\r\n    id: \"spassk\",\r\n    name: \"Спасский р-он\",\r\n    sick: 18,\r\n    description: \"Спасск – 11, в районе – 7 (Павловка – 2, Сушки – 2, Брыкин Бор – 1, Ижевское – 1, Троица – 1).\"\r\n  }, {\r\n    id: \"kasimov\",\r\n    name: \"Касимовский р-он\",\r\n    sick: 21,\r\n    description: \"Касимов – 13, Касимовский район – 9 (Подлипки – 2, Телебукино – 2, Клетино – 2, Щербатовка – 2, Малеево – 1).\"\r\n  }, {\r\n    id: \"ermish\",\r\n    name: \"Ермишинский район\",\r\n    sick: 1,\r\n    description: \"В районе - 1\"\r\n  }, {\r\n    id: \"rybnoe\",\r\n    name: \"Рыбновский район\",\r\n    sick: 40,\r\n    description: \"В Рыбновском районе – 22 (Глебково – 4, Горяйново – 3, Высокое – 3, Новоселки – 2, Старолетово – 2, Житово – 1, Завод Ветзоотехника – 1, Зубово – 1, Козловка – 1, Костино – 1, Перекаль – 1, Пощупово – 1, Старое Батурино – 1), в Рыбном – 18.\"\r\n  }, {\r\n    id: \"klepiki\",\r\n    name: \"Клепиковский район\",\r\n    sick: 18,\r\n    description: \"В Клепиковском районе – 16 (Аверкиево – 5, Криуша – 2, Тума – 2, Алексеево – 1, Егорово – 1, Кондаково – 1, Молькино – 1, Натальино – 1, Первушкино – 1, Хараблино – 1), в Спас-Клепиках – 2. \"\r\n  }]\r\n}];","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}